/**
 * pureModal - based on vModal - Simple and beautiful modals for AngularJS and Twitter Bootstrap
 * @version v1.3.2
 * @link http://yhnavein.github.io/pure-modal
 * @author Piotrek DÄ…browski <admin@puredev.eu>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

angular.module("pureModal",["ngAnimate"]).constant("modalConfig",{containerSelector:"body"}),angular.module("pureModal").directive("pureClose",function(){return{restrict:"EA",scope:{label:"@"},link:function(e,t,n){e.label&&n.$set("aria-label",e.label),n.$set("role","button"),n.$set("tabindex",0)}}}),angular.module("pureModal").directive("pureDialog",function(){return{restrict:"AE",require:"^pureModal",transclude:!0,template:"<div ng-transclude></div>",scope:{heading:"@",role:"@"},link:function(e,t,n){e.heading&&n.$set("aria-label",e.heading),n.$set("role","dialog"),n.$set("tabindex",-1),t[0].focus(),setTimeout(function(){t[0].focus()},0),e.close=function(){e.closeMethod()}}}}),angular.module("pureModal").directive("pureModal",function(){return{restrict:"AE",transclude:!0,template:"<div ng-transclude></div>",scope:{closeMethod:"&?onclose"},controller:function(){},link:function(e,t){function n(e){for(;"PURE-CLOSE"!==e.tagName;)if(e=e.parentNode,!e)return!1;return!0}e.closeMethod=angular.isFunction(e.closeMethod)?e.closeMethod:angular.noop,t.on("click",function(t){var o="PURE-MODAL"===t.target.tagName;(o||n(t.target))&&e.$apply(function(){e.closeMethod()})})}}}),angular.module("pureModal").factory("pureModal",["$animate","$compile","$rootScope","$controller","$q","$http","$templateCache","$document","modalConfig",function(e,t,n,o,r,l,a,u,c){return function(i){function d(e){return m.then(function(t){M||s(t,e)})}function s(r,l){var a;if(M=angular.element(r),0===M.length)throw new Error("The template contains no elements; you need to wrap text nodes");if(g=n.$new(),h){l||(l={});for(a in l)g[a]=l[a];var u=o(h,{$scope:g});v&&(g[v]=u)}else if(l)for(a in l)g[a]=l[a];return t(M)(g),$.attr("v-modal-open",""),e.enter(M,$)}function p(){return M?e.leave(M).then(function(){g.$destroy(),g=null,M.remove(),M=null,$.removeAttr("v-modal-open")}):r.when()}function f(){return!!M}if(!(!i.template^!i.templateUrl))throw new Error("Expected modal to have exacly one of either `template` or `templateUrl`");var m,g,h=i.controller||null,v=i.controllerAs,$=angular.element(i.container||u[0].querySelector(c.containerSelector)),M=null;return m=i.template?r.when(i.template):l.get(i.templateUrl,{cache:a}).then(function(e){return e.data}),{activate:d,deactivate:p,open:d,close:p,active:f}}}]);