/**
 * tbModal - based on vModal - Simple and beautiful modals for AngularJS and Twitter Bootstrap
 * @version v1.3.2
 * @link http://yhnavein.github.io/tb-modal
 * @author Piotrek DÄ…browski <admin@puredev.eu>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

function vCloseDirective(){return{restrict:"E",scope:{label:"@"},link:function(e,t,o){e.label&&o.$set("aria-label",e.label),o.$set("role","button"),o.$set("tabindex",0)}}}function vDialogDirective(){return{restrict:"AE",require:"^vModal",transclude:!0,scope:{heading:"@",role:"@"},link:function(e,t,o,n,r){r(e.$parent,function(e){t.append(e)}),e.heading&&o.$set("aria-label",e.heading),o.$set("role","dialog"),o.$set("tabindex",-1),t[0].focus(),setTimeout(function(){t[0].focus()},0)}}}function vModalDirective(){return{restrict:"AE",transclude:!0,scope:{closeMethod:"&?onclose"},controller:function(){},link:function(e,t,o,n,r){function a(e){for(;"V-CLOSE"!==e.tagName;)if(e=e.parentNode,!e)return!1;return!0}r(e.$parent,function(e){t.append(e)}),e.closeMethod=angular.isFunction(e.closeMethod)?e.closeMethod:angular.noop,t.on("click",function(t){var o="V-MODAL"===t.target.tagName;(o||a(t.target))&&e.$apply(function(){e.closeMethod()})})}}}function vModalFactory(e,t,o,n,r,a,l,i,c){return function(u){function d(e){return m.then(function(t){$||v(t,e)})}function v(r,a){var l;if($=angular.element(r),0===$.length)throw new Error("The template contains no elements; you need to wrap text nodes");if(g=o.$new(),p){a||(a={});for(l in a)g[l]=a[l];var i=n(p,{$scope:g});M&&(g[M]=i)}else if(a)for(l in a)g[l]=a[l];return t($)(g),h.attr("v-modal-open",""),e.enter($,h)}function s(){return $?e.leave($).then(function(){g.$destroy(),g=null,$.remove(),$=null,h.removeAttr("v-modal-open")}):r.when()}function f(){return!!$}if(!(!u.template^!u.templateUrl))throw new Error("Expected modal to have exacly one of either `template` or `templateUrl`");var m,g,p=u.controller||null,M=u.controllerAs,h=angular.element(u.container||i[0].querySelector(c.containerSelector)),$=null;return m=u.template?r.when(u.template):a.get(u.templateUrl,{cache:l}).then(function(e){return e.data}),{activate:d,deactivate:s,active:f}}}angular.module("vModal.config",[]).constant("modalConfig",{containerSelector:"body"}),angular.module("vModal.directives",[]),angular.module("vModal.services",[]),angular.module("vModal",["ngAnimate","vModal.config","vModal.directives","vModal.services"]),angular.module("vModal.directives").directive("vClose",vCloseDirective),angular.module("vModal.directives").directive("vDialog",vDialogDirective),angular.module("vModal.directives").directive("vModal",vModalDirective),angular.module("vModal.services").factory("vModal",vModalFactory),vModalFactory.$inject=["$animate","$compile","$rootScope","$controller","$q","$http","$templateCache","$document","modalConfig"];