/**
 * pureModal - based on vModal - Simple and beautiful modals for AngularJS and Twitter Bootstrap
 * @version v1.3.2
 * @link http://yhnavein.github.io/pure-modal
 * @author Piotrek DÄ…browski <admin@puredev.eu>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

function pureCloseDirective(){return{restrict:"EA",scope:{label:"@"},link:function(e,t,o){e.label&&o.$set("aria-label",e.label),o.$set("role","button"),o.$set("tabindex",0)}}}function pureDialogDirective(){return{restrict:"AE",require:"^pureModal",transclude:!0,template:"<div ng-transclude></div>",scope:{heading:"@",role:"@"},link:function(e,t,o){e.heading&&o.$set("aria-label",e.heading),o.$set("role","dialog"),o.$set("tabindex",-1),t[0].focus(),setTimeout(function(){t[0].focus()},0),e.close=function(){e.closeMethod()}}}}function pureModalDirective(){return{restrict:"AE",transclude:!0,template:"<div ng-transclude></div>",scope:{closeMethod:"&?onclose"},controller:function(){},link:function(e,t){function o(e){for(;"PURE-CLOSE"!==e.tagName;)if(e=e.parentNode,!e)return!1;return!0}e.closeMethod=angular.isFunction(e.closeMethod)?e.closeMethod:angular.noop,t.on("click",function(t){var n="PURE-MODAL"===t.target.tagName;(n||o(t.target))&&e.$apply(function(){e.closeMethod()})})}}}function pureModalFactory(e,t,o,n,r,l,a,i,c){return function(u){function d(e){return m.then(function(t){$||p(t,e)})}function p(r,l){var a;if($=angular.element(r),0===$.length)throw new Error("The template contains no elements; you need to wrap text nodes");if(g=o.$new(),v){l||(l={});for(a in l)g[a]=l[a];var i=n(v,{$scope:g});h&&(g[h]=i)}else if(l)for(a in l)g[a]=l[a];return t($)(g),M.attr("v-modal-open",""),e.enter($,M)}function s(){return $?e.leave($).then(function(){g.$destroy(),g=null,$.remove(),$=null,M.removeAttr("v-modal-open")}):r.when()}function f(){return!!$}if(!(!u.template^!u.templateUrl))throw new Error("Expected modal to have exacly one of either `template` or `templateUrl`");var m,g,v=u.controller||null,h=u.controllerAs,M=angular.element(u.container||i[0].querySelector(c.containerSelector)),$=null;return m=u.template?r.when(u.template):l.get(u.templateUrl,{cache:a}).then(function(e){return e.data}),{activate:d,deactivate:s,open:d,close:s,active:f}}}angular.module("pureModal",["ngAnimate"]).constant("modalConfig",{containerSelector:"body"}),angular.module("pureModal").directive("pureClose",pureCloseDirective),angular.module("pureModal").directive("pureDialog",pureDialogDirective),angular.module("pureModal").directive("pureModal",pureModalDirective),angular.module("pureModal").factory("pureModal",pureModalFactory),pureModalFactory.$inject=["$animate","$compile","$rootScope","$controller","$q","$http","$templateCache","$document","modalConfig"];